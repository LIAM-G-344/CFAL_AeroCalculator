#this imports all solvers
from pygasflow.solvers import isentropic_solver
import matplotlib.pyplot as plt
from matplotlib.figure import Figure
import numpy as np
import pandas as pd


#defining the function to return isentropic values
def isentropic(x_value,gamma_input):
    results = isentropic_solver("m", x_value, gamma=gamma_input, to_dict=True)
    return results

def isentropic_graph(gamma,range_input,resolution):

    range_high = range_input[1]
    range_low = range_input[0]


    #list holding all x values
    x_list = []

    #makes the possible ratio y value graphs an array
    pr = []
    dr = []
    tr = []
    prs = []
    drs = []
    trs = []
    urs = []
    ars = []

    #graph object
    fig = Figure()
    axis = fig.subplots()

    #this is the real magic, if default it uses pregernated numbers to save on system resources! BIG W
    if (gamma == 1.4) and (range_low == 0) and (range_high == 5) and (resolution == 20):
        #look at these pregenernated numbers lol
        pr = [np.float64(1.0), np.float64(0.9982519669467779), np.float64(0.993031384874252), np.float64(0.9844081626887368), np.float64(0.9724967029557766), np.float64(0.9574528327320478), np.float64(0.939469698494016), np.float64(0.9187728018353581), np.float64(0.8956143830482384), np.float64(0.8702673775954138), np.float64(0.8430191754225531), np.float64(0.8141654056490281), np.float64(0.784003950869444), np.float64(0.7528293682148871), np.float64(0.7209278609919152), np.float64(0.6885729078233747), np.float64(0.6560216183589749), np.float64(0.6235118481247772), np.float64(0.5912600718355909), np.float64(0.5594599858947751), np.float64(0.5282817877171742), np.float64(0.4978720622983531), np.float64(0.46835419504729736), np.float64(0.43982922388382034), np.float64(0.4123770423111418), np.float64(0.3860578677925169), np.float64(0.36091389540913593), np.float64(0.33697106458492915), np.float64(0.31424087582682697), np.float64(0.2927222042422421), np.float64(0.2724030664766574), np.float64(0.25326230720946225), np.float64(0.23527118012648232), np.float64(0.2183948061370905), np.float64(0.20259349840383617), np.float64(0.18782394946383796), np.float64(0.17404028036546973), np.float64(0.16119495538682976), np.float64(0.14923956863878893), np.float64(0.1381255107961345), np.float64(0.12780452546295096), np.float64(0.11822916537928566), np.float64(0.10935315892526695), np.float64(0.10113169727622477), np.float64(0.09352165219625216), np.float64(0.0864817339036896), np.float64(0.07997259776342822), np.float64(0.0739569078091352), np.float64(0.06839936431423295), np.float64(0.0632667018450238), np.float64(0.05852766346593505), np.float64(0.054152956041907695), np.float64(0.050115190907340866), np.float64(0.04638881355121028), np.float64(0.042950025407012205), np.float64(0.03977670033446712), np.float64(0.03684829793595925), np.float64(0.034145775461673133), np.float64(0.03165149971962623), np.float64(0.02934916011609617), np.float64(0.027223683703862824), np.float64(0.025261152905774614), np.float64(0.02344872640505609), np.float64(0.02177456354737559), np.float64(0.020227752479144833), np.float64(0.018798242148299952), np.float64(0.01747677821473078), np.float64(0.016254842854725695), np.float64(0.015124598394756501), np.float64(0.014078834672423438), np.float64(0.013110919994476026), np.float64(0.012214755541852593), np.float64(0.01138473305819883), np.float64(0.010615695650108383), np.float64(0.00990290152333622), np.float64(0.009241990478588813), np.float64(0.00862895299246226), np.float64(0.008060101713066163), np.float64(0.007532045205333438), np.float64(0.0070416637875582895), np.float64(0.006586087307988697), np.float64(0.006162674718052679), np.float64(0.005768995306801299), np.float64(0.005402811469233185), np.float64(0.005062062889191031), np.float64(0.004744852025387371), np.float64(0.0044494307967475576), np.float64(0.00417418837059687), np.float64(0.003917639964227435), np.float64(0.003678416577033817), np.float64(0.003455255576690577), np.float64(0.003246992068755015), np.float64(0.003052550984615555), np.float64(0.002870939827877456), np.float64(0.002701242024093073), np.float64(0.002542610823217473), np.float64(0.0023942637083165003), np.float64(0.0022554772678904877), np.float64(0.0021255824927195236), np.float64(0.002003960461403289)]
        dr = [np.float64(1.0), np.float64(0.9987510929302512), np.float64(0.9950174476440006), np.float64(0.9888379994208361), np.float64(0.9802766765794229), np.float64(0.9694209931411983), np.float64(0.9563801530669083), np.float64(0.9412827354803244), np.float64(0.924274043305782), np.float64(0.905513206388028), np.float64(0.8851701341936807), np.float64(0.8634224126907942), np.float64(0.8404522353320439), np.float64(0.8164434498290452), np.float64(0.791578791369123), np.float64(0.7660373599535043), np.float64(0.7399923855089238), np.float64(0.7136093101788076), np.float64(0.6870442034729566), np.float64(0.6604425133487819), np.float64(0.633938145260609), np.float64(0.60765285203514), np.float64(0.5816959102487432), np.float64(0.5561640536010908), np.float64(0.5311416304967507), np.float64(0.5067009514776784), np.float64(0.4829027920574239), np.float64(0.45979701762613584), np.float64(0.4374232991509431), np.float64(0.41581189112610495), np.float64(0.3949844463911532), np.float64(0.37495484582360883), np.float64(0.3557300243512413), np.float64(0.3373107780787363), np.float64(0.31969254048125345), np.float64(0.30286611851043865), np.float64(0.2868183820422941), np.float64(0.2715329023491147), np.float64(0.2569905371959945), np.float64(0.24316996175659478), np.float64(0.2300481458333117), np.float64(0.21760077888057525), np.float64(0.20580264509735235), np.float64(0.19462795140809455), np.float64(0.18405061152222427), np.float64(0.1740444894811753), np.float64(0.16458360619713527), np.float64(0.15564231248432503), np.float64(0.14719543200422933), np.float64(0.13921837740997484), np.float64(0.13168724279835387), np.float64(0.12457887537440865), np.float64(0.1178709290140657), np.float64(0.11154190218388511), np.float64(0.10557116245043602), np.float64(0.09993895959034862), np.float64(0.09462642909954336), np.float64(0.08961558769916114), np.float64(0.08488932224803755), np.float64(0.08043137329816155), np.float64(0.0762263143708159), np.float64(0.07225952788696828), np.float64(0.06851717855557389), np.float64(0.06498618490714246), np.float64(0.06165418955643345), np.float64(0.05850952868658359), np.float64(0.055541201166414415), np.float64(0.052738837642157504), np.float64(0.05009266988343353), np.float64(0.04759350061012743), np.float64(0.04523267398094228), np.float64(0.04300204688509206), np.float64(0.040893961145050194), np.float64(0.03890121670982217), np.float64(0.03701704589423079), np.float64(0.035235088699619846), np.float64(0.03354936923469326), np.float64(0.0319542732414508), np.float64(0.030444526719957756), np.float64(0.02901517563663393), np.float64(0.027661566693552523), np.float64(0.026379329130624487), np.float64(0.025164357528267265), np.float64(0.024012795575006886), np.float64(0.02292102076225698), np.float64(0.021885629967099245), np.float64(0.020903425883120018), np.float64(0.019971404259120723), np.float64(0.019086741905716065), np.float64(0.018246785430376247), np.float64(0.01744904066228741), np.float64(0.01669116272943515), np.float64(0.015970946751508584), np.float64(0.015286319113533514), np.float64(0.014635329286536268), np.float64(0.01401614216298632), np.float64(0.013427030876238933), np.float64(0.012866370074681286), np.float64(0.012332629622758676), np.float64(0.011824368702510107)]
        tr = [np.float64(1.0), np.float64(0.9995002498750625), np.float64(0.998003992015968), np.float64(0.9955201592832256), np.float64(0.9920634920634921), np.float64(0.9876543209876544), np.float64(0.9823182711198428), np.float64(0.9760858955588092), np.float64(0.9689922480620154), np.float64(0.9610764055742431), np.float64(0.9523809523809523), np.float64(0.9429514380009429), np.float64(0.9328358208955223), np.float64(0.9220839096357768), np.float64(0.9107468123861566), np.float64(0.898876404494382), np.float64(0.8865248226950354), np.float64(0.873743993010048), np.float64(0.8605851979345955), np.float64(0.8470986869970353), np.float64(0.8333333333333334), np.float64(0.8193363375665711), np.float64(0.8051529790660226), np.float64(0.7908264136022144), np.float64(0.7763975155279503), np.float64(0.7619047619047619), np.float64(0.7473841554559043), np.float64(0.7328691828508611), np.float64(0.7183908045977012), np.float64(0.7039774727208729), np.float64(0.6896551724137931), np.float64(0.6754474839581223), np.float64(0.6613756613756614), np.float64(0.6474587245063127), np.float64(0.6337135614702155), np.float64(0.62015503875969), np.float64(0.6067961165048544), np.float64(0.5936479667557139), np.float64(0.5807200929152149), np.float64(0.5680204487361545), np.float64(0.5555555555555556), np.float64(0.54333061668025), np.float64(0.5313496280552604), np.float64(0.5196154845414395), np.float64(0.508130081300813), np.float64(0.49689440993788825), np.float64(0.4859086491739553), np.float64(0.47517224994060353), np.float64(0.4646840148698885), np.float64(0.4544421722335833), np.float64(0.4444444444444444), np.float64(0.4346881112801565), np.float64(0.4251700680272109), np.float64(0.41588687876897484), np.float64(0.4068348250610252), np.float64(0.39800995024875624), np.float64(0.3894080996884735), np.float64(0.38102495713469237), np.float64(0.37285607755406414), np.float64(0.36489691662105456), np.float64(0.35714285714285715), np.float64(0.34958923265163433), np.float64(0.3422313483915127), np.float64(0.3350644999162339), np.float64(0.32808398950131235), np.float64(0.32128514056224905), np.float64(0.3146633102580239), np.float64(0.3082139004469102), np.float64(0.30193236714975846), np.float64(0.29581422866439877), np.float64(0.2898550724637682), np.float64(0.284050560999858), np.float64(0.2783964365256125), np.float64(0.2728885250375222), np.float64(0.2675227394328518), np.float64(0.26229508196721313), np.float64(0.25720164609053503), np.float64(0.2522386177323748), np.float64(0.24740227610094015), np.float64(0.24268899405411964), np.float64(0.23809523809523814), np.float64(0.23361756804111675), np.float64(0.22925263640531865), np.float64(0.22499718753515582), np.float64(0.22084805653710254), np.float64(0.21680216802168026), np.float64(0.21285653469561522), np.float64(0.20900825582610516), np.float64(0.20525451559934318), np.float64(0.20159258139300476), np.float64(0.19801980198019806), np.float64(0.19453360568038133), np.float64(0.191131498470948), np.float64(0.18781106207155604), np.float64(0.1845699520118125), np.float64(0.18140589569161), np.float64(0.17831669044222537), np.float64(0.17530020159523185), np.float64(0.1723543605653223), np.float64(0.1694771629522922)]
        prs = [np.float64(1.892929158737854), np.float64(1.8896202560009725), np.float64(1.8797380639703036), np.float64(1.8634149152530666), np.float64(1.8408673658014152), np.float64(1.8123903851946501), np.float64(1.7783495860299836), np.float64(1.7391718268494258), np.float64(1.6953345806570235), np.float64(1.6473544949486845), np.float64(1.595775578532493), np.float64(1.5411574363886784), np.float64(1.4840639391664503), np.float64(1.425052662648156), np.float64(1.3646653694181066), np.float64(1.3034197351357786), np.float64(1.2418024501540996), np.float64(1.1802637581339195), np.float64(1.1192134303750283), np.float64(1.0590181204472882), np.float64(1.0), np.float64(0.9424365440455021), np.float64(0.8865613124222252), np.float64(0.8325655627547232), np.float64(0.7806005277848342), np.float64(0.7307801949046187), np.float64(0.6831844364136176), np.float64(0.6378623538037491), np.float64(0.5948357167199221), np.float64(0.5541023958201577), np.float64(0.5156397074632708), np.float64(0.4794076061260152), np.float64(0.4453516770720843), np.float64(0.4134058966537995), np.float64(0.38349514049933237), np.float64(0.3555374306494041), np.float64(0.3294459214987089), np.float64(0.30513063129317763), np.float64(0.2824999311138229), np.float64(0.2614618069515633), np.float64(0.24192491286747442), np.float64(0.22379943455968987), np.float64(0.2069977831297324), np.float64(0.1914351386468155), np.float64(0.1770298624156258), np.float64(0.16370379580450206), np.float64(0.15138246220640697), np.float64(0.13999518728199933), np.float64(0.12947515114954494), np.float64(0.11975938469961955), np.float64(0.11078872076746467), np.float64(0.10250770952357634), np.float64(0.0948645061642197), np.float64(0.08781073781033963), np.float64(0.08130135546146508), np.float64(0.07529447590149056), np.float64(0.06975121761283716), np.float64(0.06463553401911658), np.float64(0.0599140467370635), np.float64(0.055555880968224496), np.float64(0.051532504691298484), np.float64(0.047817572918676235), np.float64(0.044386777947396934), np.float64(0.041217706257617615), np.float64(0.03828970248350517), np.float64(0.0355837406955319), np.float64(0.03308230308345839), np.float64(0.03076926601041192), np.float64(0.028629793315634318), np.float64(0.026650236672479833), np.float64(0.02481804275542281), np.float64(0.023121666932027572), np.float64(0.021550493170311345), np.float64(0.02009475983637676), np.float64(0.01874549104963265), np.float64(0.01749443326169838), np.float64(0.016333996728810075), np.float64(0.015257201555055867), np.float64(0.014257627994107309), np.float64(0.013329370709497523), np.float64(0.012466996707285101), np.float64(0.011665506669618499), np.float64(0.01092029943286601), np.float64(0.010227139369274798), np.float64(0.009582126446314487), np.float64(0.008981668752752116), np.float64(0.008422457294949653), np.float64(0.007901442880767265), np.float64(0.007415814921722837), np.float64(0.006962981996651999), np.float64(0.006540554032009174), np.float64(0.006146325965136915), np.float64(0.005778262767312731), np.float64(0.005434485713171072), np.float64(0.005113259792213838), np.float64(0.004812982166590814), np.float64(0.004532171587180127), np.float64(0.004269458687260294), np.float64(0.004023577079771478), np.float64(0.0037933551903480502)]
        drs = [np.float64(1.5774409656148785), np.float64(1.5754708884408106), np.float64(1.569581283415204), np.float64(1.5598335686430882), np.float64(1.5463285872731887), np.float64(1.5292043875079864), np.float64(1.508633232148769), np.float64(1.484817947172697), np.float64(1.4579877393650407), np.float64(1.4283936266617556), np.float64(1.3963036312159314), np.float64(1.3619978844084946), np.float64(1.3257637856553626), np.float64(1.2878913438682715), np.float64(1.2486688130175678), np.float64(1.2083787127821282), np.float64(1.1672943031448542), np.float64(1.1256765593202256), np.float64(1.0837716717464856), np.float64(1.0418090759900198), np.float64(1.0000000000000002), np.float64(0.958536501672946), np.float64(0.9175909583570032), np.float64(0.8773159617527897), np.float64(0.8378445664890554), np.float64(0.7992908381769266), np.float64(0.7617506466011836), np.float64(0.725302651471013), np.float64(0.6900094313951095), np.float64(0.6559187110521117), np.float64(0.6230646465181189), np.float64(0.5914691340579714), np.float64(0.5611431131108263), np.float64(0.5320878394848277), np.float64(0.5042961097566221), np.float64(0.4777534224351366), np.float64(0.4524390655248935), np.float64(0.428327123677798), np.float64(0.40538740114833594), np.float64(0.3835862592818559), np.float64(0.36288736930121157), np.float64(0.3432523827559243), np.float64(0.3246415232084636), np.float64(0.30701410360483034), np.float64(0.2903289743616263), np.float64(0.27454490754713373), np.float64(0.25962092268398795), np.float64(0.24551655969580632), np.float64(0.2321921043948507), np.float64(0.21960877169292728), np.float64(0.20772885143899628), np.float64(0.19651582146582278), np.float64(0.1859344320818706), np.float64(0.17595076588746805), np.float64(0.166532276436901), np.float64(0.15764780891874586), np.float64(0.14926760569147152), np.float64(0.14136329919430957), np.float64(0.13390789445733695), np.float64(0.12687574316118272), np.float64(0.12024251094636311), np.float64(0.11398513944489448), np.float64(0.10808180430191153), np.float64(0.10251187027154984), np.float64(0.09725584430810313), np.float64(0.09229532742903584), np.float64(0.08761296599935897), np.float64(0.08319240297565124), np.float64(0.07901822955115072), np.float64(0.07507593755943172), np.float64(0.07135187292184057), np.float64(0.0678331903618359), np.float64(0.0645078095564653), np.float64(0.061364372850335525), np.float64(0.05839220461960569), np.float64(0.05558127234185422), np.float64(0.05292214940134463), np.float64(0.05040597963751583), np.float64(0.04802444362681813), np.float64(0.045769726673737125), np.float64(0.043634488475497855), np.float64(0.041611834416084986), np.float64(0.03969528843846795), np.float64(0.03787876743895154), np.float64(0.036156557124093325), np.float64(0.034523289268390954), np.float64(0.032973920309727886), np.float64(0.03150371121919249), np.float64(0.030108208582194717), np.float64(0.0287832268286602), np.float64(0.027524831551371934), np.float64(0.026329323853155253), np.float64(0.025193225665483508), np.float64(0.02411326598314948), np.float64(0.02308636796184548), np.float64(0.02210963682777655), np.float64(0.02118034855075513), np.float64(0.020295939234563624), np.float64(0.0194539951806951), np.float64(0.018652243583873893)]
        trs = [np.float64(1.2), np.float64(1.199400299850075), np.float64(1.1976047904191616), np.float64(1.1946241911398705), np.float64(1.1904761904761905), np.float64(1.1851851851851851), np.float64(1.1787819253438114), np.float64(1.171303074670571), np.float64(1.1627906976744184), np.float64(1.1532916866890917), np.float64(1.1428571428571428), np.float64(1.1315417256011315), np.float64(1.1194029850746268), np.float64(1.106500691562932), np.float64(1.0928961748633879), np.float64(1.0786516853932584), np.float64(1.0638297872340423), np.float64(1.0484927916120577), np.float64(1.0327022375215147), np.float64(1.0165184243964422), np.float64(1.0), np.float64(0.9832036050798854), np.float64(0.966183574879227), np.float64(0.9489916963226571), np.float64(0.9316770186335404), np.float64(0.9142857142857143), np.float64(0.8968609865470851), np.float64(0.8794430194210333), np.float64(0.8620689655172414), np.float64(0.8447729672650475), np.float64(0.8275862068965517), np.float64(0.8105369807497467), np.float64(0.7936507936507936), np.float64(0.7769504694075753), np.float64(0.7604562737642586), np.float64(0.744186046511628), np.float64(0.7281553398058253), np.float64(0.7123775601068567), np.float64(0.6968641114982578), np.float64(0.6816245384833854), np.float64(0.6666666666666667), np.float64(0.6519967400162999), np.float64(0.6376195536663125), np.float64(0.6235385814497273), np.float64(0.6097560975609756), np.float64(0.5962732919254659), np.float64(0.5830903790087464), np.float64(0.5702066999287242), np.float64(0.5576208178438661), np.float64(0.5453306066803), np.float64(0.5333333333333333), np.float64(0.5216257335361878), np.float64(0.5102040816326531), np.float64(0.49906425452276976), np.float64(0.4882017900732302), np.float64(0.4776119402985075), np.float64(0.4672897196261682), np.float64(0.4572299485616308), np.float64(0.44742729306487694), np.float64(0.43787629994526545), np.float64(0.4285714285714286), np.float64(0.4195070791819612), np.float64(0.41067761806981523), np.float64(0.4020773998994806), np.float64(0.39370078740157477), np.float64(0.38554216867469887), np.float64(0.3775959723096287), np.float64(0.3698566805362922), np.float64(0.36231884057971014), np.float64(0.35497707439727855), np.float64(0.3478260869565218), np.float64(0.34086067319982954), np.float64(0.33407572383073497), np.float64(0.3274662300450266), np.float64(0.3210272873194222), np.float64(0.31475409836065577), np.float64(0.308641975308642), np.float64(0.3026863412788498), np.float64(0.29688273132112813), np.float64(0.2912267928649436), np.float64(0.28571428571428575), np.float64(0.2803410816493401), np.float64(0.2751031636863824), np.float64(0.26999662504218697), np.float64(0.265017667844523), np.float64(0.2601626016260163), np.float64(0.25542784163473825), np.float64(0.25080990699132616), np.float64(0.24630541871921183), np.float64(0.24191109767160568), np.float64(0.23762376237623767), np.float64(0.2334403268164576), np.float64(0.2293577981651376), np.float64(0.22537327448586722), np.float64(0.221483942414175), np.float64(0.217687074829932), np.float64(0.21398002853067044), np.float64(0.2103602419142782), np.float64(0.20682523267838676), np.float64(0.20337259554275064)]
        urs = [np.float64(0.0), np.float64(0.054758567819339354), np.float64(0.10943513103291656), np.float64(0.16394829764485844), np.float64(0.21821789023599236), np.float64(0.2721655269759087), np.float64(0.3257151720152794), np.float64(0.3787936465242586), np.float64(0.43133109281375365), np.float64(0.48326138533359053), np.float64(0.5345224838248488), np.float64(0.585056725450056), np.float64(0.6348110542727385), np.float64(0.6837371879496821), np.float64(0.7317917228850433), np.float64(0.7789361803342478), np.float64(0.8251369970070347), np.float64(0.8703654645835344), np.float64(0.9145976232160387), np.float64(0.957814114542999), np.float64(1.0), np.float64(1.041144550290964), np.float64(1.081241011802579), np.float64(1.120286355530011), np.float64(1.1582810137580166), np.float64(1.1952286093343936), np.float64(1.2311356819069839), np.float64(1.2660114149938906), np.float64(1.2998673672393632), np.float64(1.3327172106920369), np.float64(1.364576478442026), np.float64(1.3954623234796655), np.float64(1.4253932901995967), np.float64(1.4543890995748436), np.float64(1.4824704486696212), np.float64(1.509658824848138), np.float64(1.5359763347691506), np.float64(1.561445548030964), np.float64(1.5860893551463962), np.float64(1.6099308393788454), np.float64(1.632993161855452), np.float64(1.6552994592878054), np.float64(1.6768727535708958), np.float64(1.697735872493529), np.float64(1.7179113807746667), np.float64(1.7374215206370245), np.float64(1.756288161138789), np.float64(1.7745327555039327), np.float64(1.7921763057190188), np.float64(1.8092393336975905), np.float64(1.8257418583505536), np.float64(1.8417033779409382), np.float64(1.8571428571428572), np.float64(1.8720787182664493), np.float64(1.8865288361522197), np.float64(1.9005105362789922), np.float64(1.9140405956690574), np.float64(1.927135246211808), np.float64(1.9398101800628884), np.float64(1.9520805568094963), np.float64(1.9639610121239315), np.float64(1.9754656676566653), np.float64(1.9866081419472046), np.float64(1.9974015621558416), np.float64(2.0078585764421075), np.float64(2.0179913668364655), np.float64(2.0278116624706195), np.float64(2.0373307530488365), np.float64(2.0465595024580763), np.float64(2.055508362428528), np.float64(2.06418738616856), np.float64(2.07260624190917), np.float64(2.0807742263028746), np.float64(2.0887002776307733), np.float64(2.0963929887792725), np.float64(2.10386061995483), np.float64(2.111111111111111), np.float64(2.118152094068259), np.float64(2.1249909043086186), np.float64(2.131634592437288), np.float64(2.138089935299395), np.float64(2.1443634467490114), np.float64(2.1504613880672423), np.float64(2.1563897780292565), np.float64(2.1621544026219284), np.float64(2.1677608244153506), np.float64(2.1732143915928566), np.float64(2.17852024664527), np.float64(2.1836833347360467), np.float64(2.1887084117446918), np.float64(2.1936000519964467), np.float64(2.198362655686662), np.float64(2.2030004560086485), np.float64(2.2075175259939988), np.float64(2.2119177850745553), np.float64(2.2162050053752567), np.float64(2.220382817747122), np.float64(2.2244547175495866), np.float64(2.228424070191324), np.float64(2.232294116438568)]
        ars = [np.float64('inf'), np.float64(11.591443867187499), np.float64(5.821828750000001), np.float64(3.9103427512538564), np.float64(2.9635200000000004), np.float64(2.4027099609375), np.float64(2.035065262345679), np.float64(1.777968677455357), np.float64(1.5901400000000003), np.float64(1.4486717851401747), np.float64(1.3398437500000004), np.float64(1.254947595880682), np.float64(1.1881995061728396), np.float64(1.1356161868990386), np.float64(1.094372678571429), np.float64(1.0624171127507716), np.float64(1.0382300000000004), np.float64(1.0206685363051473), np.float64(1.0088628652263372), np.float64(1.0021451541940787), np.float64(1.0), np.float64(1.0020290537505512), np.float64(1.0079253409090911), np.float64(1.0174543257472823), np.float64(1.03043975308642), np.float64(1.0467529296875), np.float64(1.0663045192307699), np.float64(1.089038199213392), np.float64(1.114925714285714), np.float64(1.1439629889547416), np.float64(1.1761670524691357), np.float64(1.2115735924899191), np.float64(1.250235), np.float64(1.2922188012503508), np.float64(1.3376063970588234), np.float64(1.3864920479910716), np.float64(1.4389820576131689), np.float64(1.4951941163429057), np.float64(1.5552567763157898), np.float64(1.6193090337502967), np.float64(1.6875000000000002), np.float64(1.7599886461509153), np.float64(1.8369436089065252), np.float64(1.9185430477834298), np.float64(2.004974545454546), np.float64(2.096435044528035), np.float64(2.193130815217391), np.float64(2.295277449301862), np.float64(2.4030998765432106), np.float64(2.516832400350766), np.float64(2.636718750000001), np.float64(2.763012147132581), np.float64(2.8959753846153853), np.float64(3.0358809161261804), np.float64(3.1830109550754484), np.float64(3.3376575816761376), np.float64(3.500122857142858), np.float64(3.670718944144941), np.float64(3.849768232758621), np.float64(4.037603471265891), np.float64(4.234567901234571), np.float64(4.441015396388321), np.float64(4.657310604838711), np.float64(4.883829094305741), np.float64(5.120957500000001), np.float64(5.3690936748798075), np.float64(5.6286468420314275), np.float64(5.900037748950561), np.float64(6.183698823529412), np.float64(6.480074331576256), np.float64(6.789620535714286), np.float64(7.1128058555237725), np.float64(7.450111028806587), np.float64(7.8020292738655845), np.float64(8.169066452702705), np.float64(8.551741235050155), np.float64(8.950585263157897), np.float64(9.366143317268673), np.float64(9.798973481718901), np.float64(10.249647311609973), np.float64(10.718750000000002), np.float64(11.206880545571131), np.float64(11.714651920731715), np.float64(12.242691240116722), np.float64(12.791639929453261), np.float64(13.362153894761027), np.float64(13.954903691860466), np.float64(14.57057469616393), np.float64(15.209867272727285), np.float64(15.873496946541442), np.float64(16.562194573045275), np.float64(17.276706508842715), np.float64(18.017794782608707), np.float64(18.786237266169486), np.float64(19.582827845744692), np.float64(20.40837659333883), np.float64(21.26370993827162), np.float64(22.149670838837), np.float64(23.067118954081646), np.float64(24.016930815694575)]
        #also need x_values, forgot that the first time around, whoops

        x_list = [0.0, 0.05, 0.1, 0.15000000000000002, 0.2, 0.25, 0.30000000000000004, 0.35000000000000003, 0.4, 0.45, 0.5, 0.55, 0.6000000000000001, 0.65, 0.7000000000000001, 0.75, 0.8, 0.8500000000000001, 0.9, 0.9500000000000001, 1.0, 1.05, 1.1, 1.1500000000000001, 1.2000000000000002, 1.25, 1.3, 1.35, 1.4000000000000001, 1.4500000000000002, 1.5, 1.55, 1.6, 1.6500000000000001, 1.7000000000000002, 1.75, 1.8, 1.85, 1.9000000000000001, 1.9500000000000002, 2.0, 2.0500000000000003, 2.1, 2.15, 2.2, 2.25, 2.3000000000000003, 2.35, 2.4000000000000004, 2.45, 2.5, 2.5500000000000003, 2.6, 2.6500000000000004, 2.7, 2.75, 2.8000000000000003, 2.85, 2.9000000000000004, 2.95, 3.0, 3.0500000000000003, 3.1, 3.1500000000000004, 3.2, 3.25, 3.3000000000000003, 3.35, 3.4000000000000004, 3.45, 3.5, 3.5500000000000003, 3.6, 3.6500000000000004, 3.7, 3.75, 3.8000000000000003, 3.85, 3.9000000000000004, 3.95, 4.0, 4.05, 4.1000000000000005, 4.15, 4.2, 4.25, 4.3, 4.3500000000000005, 4.4, 4.45, 4.5, 4.55, 4.6000000000000005, 4.65, 4.7, 4.75, 4.800000000000001, 4.8500000000000005, 4.9, 4.95]


    #ie: gamma is not the default 1.4 and range is not 0 to 5 with accuracy of default (20 points/ M intervals)
    else:
        #find range, and set current x to the lowest x value to be found
        x_range = range_high - range_low
        current_x = range_low

        #resolution param is points grpahed / in. must take range into account
        num_points = resolution*x_range


        
        for i in range(num_points):
            #find current x value with respect to iteration # and resoultion defined
            current_x += 1/resolution
            x_list.append(current_x)

            #get values for current_x

            isentropic_dict = isentropic(current_x,gamma)


            #creates arrays for each possible graph's y values
            pr.append(isentropic_dict['pr'])
            dr.append(isentropic_dict['dr'])
            tr.append(isentropic_dict['tr'])
            prs.append(isentropic_dict['prs'])
            drs.append(isentropic_dict['drs'])
            trs.append(isentropic_dict['trs'])
            urs.append(isentropic_dict['urs'])
            ars.append(isentropic_dict['ars'])

    #now put evrything on the graph
    axis.plot(x_list, pr, label="pr")
    axis.plot(x_list, dr, label="dr")
    axis.plot(x_list, tr, label="tr")
    axis.plot(x_list, prs, label="prs")
    axis.plot(x_list, drs, label="drs")
    axis.plot(x_list, trs, label="trs")
    axis.plot(x_list, urs, label="urs")
    axis.plot(x_list, ars, label="ars")

    axis.set_xlabel("M")
    axis.set_ylabel("Ratios")
    axis.set_ylim(0,3)
    axis.legend()
    fig.set_size_inches(5,3)
    fig.tight_layout()
    return(fig)

#create a table
#no optimization with this one. if we need it here, we gotta be dwon bad for cpu power
def isentropic_data_table(gamma,range_input):
    range_high = range_input[1]
    range_low = range_input[0]

    x_range = range_high - range_low
    current_x = range_low

    # table object
    table = pd.DataFrame(columns=['Mach', 'Gamma', 'P/P0', 'p/p0', 'T/T0', 'P/P*', 'p/p*', 'T/T*', 'U/U*', 'A/A*'])

    #extremely similar logic to what is above. goes to 11 because 10 only goes to 4.5 oddly?
    for i in range((x_range*2)+1):
        #value at each 0.5 mach increace (ie: each 0.5 increace in x)
        #round because somtimes it adds 0.000000000000000001 extra or somthing like that. weird fix but it works
        current_x+=0.5
        isentropic_dict = isentropic(current_x,gamma)

        #add another row to the table with ze info
        table.loc[len(table)] = [round(current_x,1),gamma,isentropic_dict['pr'],isentropic_dict['dr'],isentropic_dict['tr'],isentropic_dict['prs'],isentropic_dict['drs'],isentropic_dict['trs'],isentropic_dict['urs'],isentropic_dict['ars']]

    return(table)

